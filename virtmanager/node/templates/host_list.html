<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>hostlist</title>

    <!-- Bootstrap -->
    <link href="/static/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

{% include "header.html" %}

<div class="panel panel-default">
    <!-- Default panel contents -->


    <div class="panel-heading"><h3>物理机列表</h3></div>
    <div class="panel-body">

        <!-- Table -->
        <table class="table table-bordered table-hover">
            <thead>
            <tr>
                <th>物理机管理IP</th>
                <th>所在节点</th>
                <th>CPU总数/使用/剩余(Core)</th>
                <th>内存总数/使用/剩余(G)</th>
                <!--<th>磁盘剩余(G)</th>-->
                <th>虚机数量</th>
                <th>IPMI管理地址</th>
                <th>备注</th>
            </tr>
            </thead>
            <tbody>
            {% for info in host_info %}
            <tr>
                <td>{{ info.host_ip}}</td>
                <td>
                    {% if info.address  %}
                    {{ info.address }}
                    {% endif %}
                </td>
                <td>
                    {% if info.cpu_max  %}
                        {{ info.cpu_max }}
                    {% endif %}/
                    {% if info.cpu_used  %}
                        {{ info.cpu_used }}
                    {% endif %}/
                    {% if info.cpu_remain  %}
                        {{ info.cpu_remain }}
                    {% endif %}
                </td>
                <td>
                    {% if info.mem_max  %}
                        {{ info.mem_max }}
                    {% endif %}/
                    {% if info.mem_used  %}
                        {{ info.mem_used }}
                    {% endif %}/
                    {% if info.mem_remain  %}
                        {{ info.mem_remain }}
                    {% endif %}
                </td>
                <!--<td>-->
                    <!--{% if info.disk_remain  %}-->
                    <!--{{ info.disk_remain }}-->
                    <!--{% endif %}-->
                <!--</td>-->
                <td>
                    {% if info.virtmachine_set.all  %}
                    <a href="/vm_list/{{ info.pk }}/">{{ info.virtmachine_set.all | length }}</a>
                    {% endif %}

                </td>
                <td>
                    {% if info.host_ipmiip %}
                        {{ info.host_ipmiip }}
                    {% endif %}
                </td>

                <td>
                    {% if info.description  %}
                    {{ info.description }}
                    {% endif %}
                </td>

            </tr>
            {% endfor %}
            </tbody>
        </table>
        <nav aria-label="Page navigation">
            <ul class="pager">
                <li>
                    {% if host_info.has_previous %}
                    <a href="?page={{ host_info.previous_page_number }}">
                        上一页
                    </a>
                    {% endif %}
                </li>
                <li>

                    第 {{ host_info.number }} 页 ; 总共{{ host_info.paginator.num_pages }}页.
                </li>
                <li>
                    {% if host_info.has_next %}
                    <a href="?page={{ host_info.next_page_number }}">
                        下一页
                    </a>
                    {% endif %}
                </li>
            </ul>
        </nav>
    </div>
    <!--<div class="panel-footer"></div>-->
</div>
</div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="/static/bootstrap-3.3.7-dist/js/jquery.min.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
</body>
</html>

